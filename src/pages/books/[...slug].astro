---
import type { GetStaticPaths } from "astro";
import { getCollection } from 'astro:content';
import Layout from '../../layouts/BookLayout.astro';

export const getStaticPaths = (async () => {
  const allBooks = await getCollection('books');
  return allBooks.map((book) => {
    return {
      params: {
        slug: book.slug
      },
      props: { book }
    }
  });
}) satisfies GetStaticPaths;

// console.log(slug);

const { book } = Astro.props;
const { Content } = await book.render();
---

<Layout title={book.data.title} author={book.data.author }>
  <Content />
</Layout>


